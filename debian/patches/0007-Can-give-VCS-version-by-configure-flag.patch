From: Johannes Willkomm <johannes@johannes-willkomm.de>
Date: Wed, 1 Jun 2022 22:56:17 +0200
Subject: Can give VCS version by configure flag

---
 configure.ac | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

diff --git a/configure.ac b/configure.ac
index c413a40..5c10189 100644
--- a/configure.ac
+++ b/configure.ac
@@ -156,7 +156,12 @@ target_os_short=`echo "$target_os" |sed -e s/-.*//`
 AC_DEFINE_UNQUOTED(HOST_OS_SHORT, "$target_os_short", [Short host os type])
 AC_DEFINE_UNQUOTED(install_prefix, "$prefix", [The prefix where P2X is installed.])
 
-VCS_REVISION=`./vcs-version.sh`
+AC_ARG_ENABLE([vcs-version], [  --enable-vcs-version    VCS version file.
+  --disable-vcs-version   No VCS version file.], [
+      VCS_REVISION=$enableval
+], [
+      VCS_REVISION=`./vcs-version.sh`
+])
 AC_MSG_CHECKING([value for VCS_REVISION])
 AC_MSG_RESULT([$VCS_REVISION])
 AC_SUBST([VCS_REVISION])
